// База социальных сетей
const socialNetworks = {
    telegram: { name: 'Telegram', icon: 'fab fa-telegram', color: '#0088cc' },
    tiktok: { name: 'TikTok', icon: 'fab fa-tiktok', color: '#ff0050' },
    instagram: { name: 'Instagram', icon: 'fab fa-instagram', color: '#e4405f' },
    vk: { name: 'VK', icon: 'fab fa-vk', color: '#4a76a8' },
    steam: { name: 'Steam', icon: 'fab fa-steam', color: '#000000' },
    youtube: { name: 'YouTube', icon: 'fab fa-youtube', color: '#ff0000' },
    discord: { name: 'Discord', icon: 'fab fa-discord', color: '#5865f2' }
};

// Мои соцсети (редактируйте здесь)
let mySocialLinks = [
    { type: 'telegram', url: 'https://t.me/ваш_аккаунт', name: 'Telegram' },
    { type: 'tiktok', url: 'https://tiktok.com/@ваш_аккаунт', name: 'TikTok' },
    { type: 'vk', url: 'https://vk.com/ваш_аккаунт', name: 'VK' }
];

// Инициализация
document.addEventListener('DOMContentLoaded', function() {
    renderSocialLinks();
    updateOnlineCount();
    
    // Загрузка сохраненных настроек
    loadSettings();
});

// Рендер соцсетей
function renderSocialLinks() {
    const grid = document.getElementById('socialsGrid');
    grid.innerHTML = '';
    
    mySocialLinks.forEach(link => {
        const network = socialNetworks[link.type];
        if (network) {
            const item = document.createElement('div');
            item.className = 'social-item';
            item.onclick = () => openLink(link.url);
            item.innerHTML = `
                <i class="${network.icon}"></i>
                <span>${link.name}</span>
                <span style="margin-left: auto; font-size: 0.8rem; opacity: 0.7;">→</span>
            `;
            grid.appendChild(item);
        }
    });
}

// Открытие ссылки
function openLink(url) {
    window.open(url, '_blank');
}

// Обновление онлайн счета
function updateOnlineCount() {
    const count = Math.floor(Math.random() * 50) + 20; // Рандом 20-70
    document.getElementById('onlineCount').textContent = count;
}

// Панель админа
function toggleAdmin() {
    const menu = document.getElementById('adminMenu');
    menu.classList.toggle('show');
}

// Добавление соцсети
function addSocial() {
    const type = document.getElementById('socialType').value;
    const url = document.getElementById('socialUrl').value;
    const name = document.getElementById('socialName').value;
    
    if (url && name) {
        mySocialLinks.push({ type, url, name });
        renderSocialLinks();
        saveSettings();
        
        // Очистка полей
        document.getElementById('socialUrl').value = '';
        document.getElementById('socialName').value = '';
        
        alert('Соцсеть добавлена!');
    }
}

// Смена фона
function changeBackground() {
    const url = document.getElementById('videoUrl').value;
    if (url) {
        // Здесь можно добавить видео фон
        alert('Фон обновлен!');
    }
}

// Сохранение настроек
function saveSettings() {
    localStorage.setItem('realNeformalSettings', JSON.stringify({
        socialLinks: mySocialLinks
    }));
}

// Загрузка настроек
function loadSettings() {
    const saved = localStorage.getItem('realNeformalSettings');
    if (saved) {
        const settings = JSON.parse(saved);
        mySocialLinks = settings.socialLinks || mySocialLinks;
        renderSocialLinks();
    }
}

// Авто-обновление онлайн счета
setInterval(updateOnlineCount, 30000);

// Случайные анимации
setInterval(() => {
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        if (Math.random() > 0.7) {
            card.style.transform = 'translateY(-5px)';
            setTimeout(() => {
                card.style.transform = 'translateY(0)';
            }, 300);
        }
    });
}, 5000);
